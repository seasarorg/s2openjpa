SET TRACE_LEVEL_FILE 1;
SET WRITE_DELAY 500;
SET CLUSTER '';
SET DEFAULT_TABLE_TYPE 0;
SET DEFAULT_LOCK_TIMEOUT 1000;
SET TRACE_LEVEL_SYSTEM_OUT 0;
SET CACHE_SIZE 65536;
CREATE USER IF NOT EXISTS SA SALT '1d649ffe4df40a02' HASH '372fde30c35267c3d2e7d61cf823f3b5058f4b12f4977174a59023a97ee5c391' ADMIN;
CREATE CACHED TABLE PUBLIC.CUSTOMER(
    ID INTEGER NOT NULL,
    NAME VARCHAR(255),
    ADDRESS VARCHAR(255),
    PHONE VARCHAR(255),
    AGE INTEGER,
    BIRTHDAY DATE,
    SEX INTEGER,
    DTYPE VARCHAR(31),
    DANGEON VARCHAR(255),
    DANGEON_LEVEL INTEGER,
    VERSION INTEGER
);
-- 3 = SELECT COUNT(*) FROM PUBLIC.CUSTOMER;
INSERT INTO PUBLIC.CUSTOMER(ID, NAME, ADDRESS, PHONE, AGE, BIRTHDAY, SEX, DTYPE, DANGEON, DANGEON_LEVEL, VERSION) VALUES
(1, 'Link', 'Hyrule', '000-0000-0000', 15, DATE '1998-01-01', 0, 'C', NULL, NULL, 0),
(2, 'Zelda', 'Hyrule', '000-0000-0000', 15, DATE '1998-01-01', 1, 'C', NULL, NULL, 0),
(3, 'Ganon', 'Darkness', '000-0000-0000', 15, DATE '1998-01-01', 0, 'E', 'Pyramid of Power', 10, 0);
CREATE PRIMARY KEY ON PUBLIC.CUSTOMER(ID);
CREATE CACHED TABLE PUBLIC.PRODUCT(
    ID INTEGER NOT NULL,
    NAME VARCHAR(255),
    CUSTOMER_ID INTEGER,
    VERSION INTEGER
);
-- 3 = SELECT COUNT(*) FROM PUBLIC.PRODUCT;
INSERT INTO PUBLIC.PRODUCT(ID, NAME, CUSTOMER_ID, VERSION) VALUES
(1, 'MASTER SORD', 1, 0),
(2, 'OKARINA', 2, 0),
(3, 'TRIDENT', 3, 0);
CREATE PRIMARY KEY ON PUBLIC.PRODUCT(ID);
CREATE CACHED TABLE PUBLIC.SEQUENCE(
    SEQ_NAME VARCHAR(50) NOT NULL,
    SEQ_COUNT DECIMAL
);
-- 1 = SELECT COUNT(*) FROM PUBLIC.SEQUENCE;
INSERT INTO PUBLIC.SEQUENCE(SEQ_NAME, SEQ_COUNT) VALUES
('SEQ_GEN', 3);
CREATE PRIMARY KEY ON PUBLIC.SEQUENCE(SEQ_NAME);
ALTER TABLE PUBLIC.PRODUCT ADD CONSTRAINT PUBLIC.PRODUCTCUSTOMER_ID FOREIGN KEY(CUSTOMER_ID) REFERENCES PUBLIC.CUSTOMER(ID) NOCHECK;
